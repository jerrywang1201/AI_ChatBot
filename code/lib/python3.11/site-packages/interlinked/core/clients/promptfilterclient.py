import requests

class PromptFilterClient:
	"""
	[Internal/Not available yet]
	This client removes PII (names, addresses, etc)
	"""

	def get_clean_text(self, text: str) -> str:
		"""
		[Internal]
		Removes PII from a given text/prompt

		@param text(str): A text to remove PII from
		@return (str): The text with no PII
		"""

		data: dict[str, str] = {'prompt': text}
		response = requests.post('https://prism.aiml.apple.com/prompt-filter/v1/clean', json=data)

		if not response.ok:
			logging.error(response.text)

		response.raise_for_status()

		response_dict: dict[str, Any] = response.json()
		return response_dict.get('filtered_prompt')