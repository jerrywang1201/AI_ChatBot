from typing import Any


class BaseVectorStoreClient:
    """
    This is the base class that all AI vector store clients inherit
    """

    # internal
    collection_names: set[str] = set()

    def __init__(self, in_memory: bool = False, host: str = None, port: str = None, **kwargs):
        """
        Initializes the vector store/database

        @param in_memory(bool): (Optional) If set, the entire database will run in memory/RAM and all data
                                stored will only be available until your script/code finishes running
        @param host(str): (Optional) The Qdrant host name if you're hosting Qdrant or running it via Docker locally
        @param port(str): (Optional) The Qdrant port number if you're hosting Qdrant or running it via Docker locally
        """
        raise NotImplementedError()

    def create_collection(self, name: str, size: int) -> None:
        """
        Creates an index if it doesn't exist already

        @param name(str): the name of the collection
        @param size(int): the vector size (varies based on model)
        """
        raise NotImplementedError()

    def delete_collection(self, name: str) -> None:
        """
        Deletes an index

        @param name(str): the name of the collection
        """
        raise NotImplementedError()

    def get_has_collection(self, name: str) -> bool:
        """
        Returns whether a given index exists

        @param name(str): the name of the collection
        @return (bool): True if contain else False
        """
        raise NotImplementedError()

    def insert(self, embedding: list[float], payload: dict[str, Any], collection_name: str) -> Any:
        """
        Adds an embedding to a given collection

        @param embedding(float): the embedding
        @param payload(str): the string/text content used to generate the embedding
        @param collection_name(str): the name of the collection to store the knowledge in
        @return (list[int]): List of the newly-generated IDs of the inserted entities
        """
        raise NotImplementedError()

    def upsert(self, embedding: list[float], payload: dict[str, Any], collection_name: str) -> str:
        """
        Adds an embedding to a given index

        @param embedding(float): the embedding
        @param payload(str): the string/text content used to generate the embedding
        @param collection_name(str): the name of the index to store the knowledge in
        @return (str): the newly-generated ID of the point/embedding
        """
        raise NotImplementedError()

    def update(self, id: str, embedding: list[float], payload: dict[str, Any], collection_name: str) -> None:
        """
        Update an embedding to a given collection

        @param id(str): the name of the ID key to use for finding the document
        @param embedding(float): the embedding
        @param payload(str): the string/text content used to generate the embedding
        @param collection_name(str): the name of the index to store the knowledge in
        """
        raise NotImplementedError()
