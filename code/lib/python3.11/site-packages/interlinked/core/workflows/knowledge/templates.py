THREAD_INFO_TEMPLATE: str =  \
'''Given the Slack thread below, your task is to read it and respond with the exact format:
Question count<!type:int,required:true!>: the number of questions asked in this thread asked by the originator. if no questions, this should be 0
---
<#messages#>'''


THREAD_TO_QA_TEMPLATE: str =  \
'''Summarize the questions asked and the answers into a numbered list where each question and its answer are on the same line.

The goal is to turn them into a knowledge base. Your response MUST not include any questions that do not have an answer.
The questions and answers must be reformatted into a formal knowledge base format.

For example:
- Question 1? Answer goes here
- Question 2? Answer goes here'''


EXAMPLES_TEMPLATE: str =  \
'''We are a team at Apple building a search engine for searching team-specific knowledge.
Using only the knowledge below, your task is to help me write a numbered list of example search queries that Apple employees may search.

- Each search query must be fully contained within the knowledge below.
- Each search query must explicitly call out names instead of "this project", "the bug", "the document".
- Each search query must be very short and in plain text.
- None of the examples can include names of people.

Important: If the knowledge below does not have much information or context, respond with an empty list.

---
Knowledge:
<#knowledge_content#>'''


if __name__ == '__main__':

	from interlinked import AI, Observation

	# thread info
	observation: Observation = AI.ask(prompt={'messages': '\n---\n'.join([
		'hi folks, how do I install interlinked?',
		'hey! sure thing: pip3 install apple-interlinked',
		'thanks! i also want to install the platform',
		'i see. on your Mac?'])}, template=THREAD_INFO_TEMPLATE)

	observation = observation.ask(template=THREAD_TO_QA_TEMPLATE)
	print(observation.response.raw)
	print(observation.options)

	# examples
	# print(AI.ask(prompt={'knowledge_content': 'Updating visionOS'}, template=EXAMPLES_TEMPLATE))
