{
    "start_node_id": "legacy-beta-branch",
    "nodes": {
        "adapter-part-of-product": {
            "select": {
                "tags": [
                    "output",
                    "distillation"
                ],
                "text": "Will the adapter (+model) ship as part of an Apple product?",
                "detail": "e.g. integrated into a framework or application",
                "options": [
                    {
                        "text": "Yes",
                        "next_node_id": "using-intermediate",
                        "default": true
                    },
                    {
                        "text": "No",
                        "next_node_id": "summary-gemini"
                    }
                ]
            }
        },
        "adrian-allowed-branch": {
            "if_group": {
                "group": "adrian-org-floodgate-access",
                "member_node_id": "hwe-branch",
                "non_member_node_id": "adrian-not-allowed"
            }
        },
        "adrian-not-allowed": {
            "not_permitted": {
                "text": "CorpDev Controlled Availability",
                "detail": "Access in CorpDev is being rolled out gradually. Please reference the [CorpDev onboarding guide](https://genai.apple.com/use/support/orgs/corpdev/) for additional information.\n"
            }
        },
        "adrian-org-branch": {
            "if_group": {
                "group": "genai-onboarding-access-corpdev",
                "member_node_id": "adrian-allowed-branch",
                "non_member_node_id": "other-org"
            }
        },
        "aiml-allowed-branch": {
            "if_group": {
                "group": "floodgate-self-onboard-aiml",
                "member_node_id": "hwe-branch",
                "non_member_node_id": "aiml-not-allowed"
            }
        },
        "aiml-not-allowed": {
            "not_permitted": {
                "text": "AIML Controlled Availability",
                "detail": "Access in AIML is being rolled out gradually. Please reference the [AIML onboarding guide](https://genai.apple.com/use/support/orgs/aiml) for additional information.\n"
            }
        },
        "aiml-org-branch": {
            "if_group": {
                "group": "genai-onboarding-access-aiml",
                "member_node_id": "aiml-allowed-branch",
                "non_member_node_id": "ais-org-branch"
            }
        },
        "ais-org-branch": {
            "if_group": {
                "group": "genai-onboarding-access-ais",
                "member_node_id": "hwe-branch",
                "non_member_node_id": "ist-org-branch"
            }
        },
        "anthropic-onboarded-branch": {
            "if_group": {
                "group": "anthropic-models-onboarded",
                "member_node_id": "hwe-branch",
                "non_member_node_id": "gemini-onboarded-branch"
            }
        },
        "ap-allowed-branch": {
            "if_group": {
                "group": "floodgate-self-onboard-ap",
                "member_node_id": "hwe-branch",
                "non_member_node_id": "ap-not-allowed"
            }
        },
        "ap-not-allowed": {
            "not_permitted": {
                "text": "Ads Controlled Availability",
                "detail": "Access in Ads is being rolled out gradually. Please reference the [Ads onboarding guide](https://genai.apple.com/use/support/orgs/ads/) for additional information.\n"
            }
        },
        "ap-org-branch": {
            "if_group": {
                "group": "genai-onboarding-access-ads",
                "member_node_id": "ap-allowed-branch",
                "non_member_node_id": "hsw-org-branch"
            }
        },
        "approved-dataset": {
            "select": {
                "tags": [
                    "onboarding",
                    "input"
                ],
                "text": "Is the data approved for your purpose in one of Apple's data management platforms?",
                "detail": "* [DMS](https://dataplatform.apple.com/)\n* [Feature Platform](https://data.apple.com/dashboard)\n* [FMDM](https://fmdata.aiml.apple.com/)\n* [Syndata-Forge](https://syndata-forge.corp.apple.com/)\n* [Trove](https://trove.apple.com/browse)\n\ne.g. for training, the dataset has to be approved under `Permissive`, `Share-alike`, or `Generative` terms.\n",
                "options": [
                    {
                        "text": "Yes",
                        "next_node_id": "people-decisions",
                        "default": true
                    },
                    {
                        "text": "No",
                        "next_node_id": "dataset-review"
                    }
                ]
            }
        },
        "apps-allowed-branch": {
            "if_group": {
                "group": "floodgate-self-onboard-apps",
                "member_node_id": "hwe-branch",
                "non_member_node_id": "apps-not-allowed"
            }
        },
        "apps-not-allowed": {
            "not_permitted": {
                "text": "Apps Controlled Availability",
                "detail": "Access in Apps is being rolled out gradually. Please reference the [Apps onboarding guide](https://genai.apple.com/use/support/orgs/apps) for additional information.\n"
            }
        },
        "apps-org-branch": {
            "if_group": {
                "group": "genai-onboarding-access-apps",
                "member_node_id": "apps-allowed-branch",
                "non_member_node_id": "wpc-org-branch"
            }
        },
        "ase-allowed-branch": {
            "if_group": {
                "group": "apple_genai_3pc_models_-_ase",
                "member_node_id": "hwe-branch",
                "non_member_node_id": "ase-not-allowed"
            }
        },
        "ase-not-allowed": {
            "not_permitted": {
                "text": "ASE Controlled Availability",
                "detail": "Access in ASE is being rolled out gradually. Please reference the [ASE onboarding guide](https://genai.apple.com/use/support/orgs/ase) for additional information.\n"
            }
        },
        "ase-org-branch": {
            "if_group": {
                "group": "genai-onboarding-access-ase",
                "member_node_id": "ase-allowed-branch",
                "non_member_node_id": "maps-org-branch"
            }
        },
        "batch-api": {
            "select": {
                "tags": [
                    "output",
                    "distillation",
                    "warning"
                ],
                "text": "Please use the [batch API](https://docs.aws.amazon.com/bedrock/latest/userguide/batch-inference.html).",
                "detail": "The batch API provides significant cost savings for Apple.",
                "options": [
                    {
                        "text": "Next",
                        "next_node_id": "training-what"
                    }
                ]
            }
        },
        "building-tools": {
            "select": {
                "tags": [
                    "onboarding",
                    "root"
                ],
                "text": "Are you building ML tools, automation, or integrations for others at Apple?",
                "detail": "e.g. IDE plugins, agents, MCP servers",
                "options": [
                    {
                        "text": "Yes",
                        "next_node_id": "building-tools-yes"
                    },
                    {
                        "text": "No",
                        "next_node_id": "output-use",
                        "default": true
                    }
                ]
            }
        },
        "building-tools-describe": {
            "input": {
                "tags": [
                    "onboarding"
                ],
                "text": "Tell us about your project",
                "detail": "Please share a brief summary of your project and its use of AI. Feel free to include links to documentation or repositories.",
                "key": "tool_detail",
                "submit_text": "Next",
                "next_node_id": "output-use"
            }
        },
        "building-tools-yes": {
            "select": {
                "tags": [
                    "onboarding",
                    "warning"
                ],
                "text": "Please review the [tools &amp; integrations page](https://genai.apple.com/use/tools/).",
                "detail": "Familiarize yourself with existing solutions at Apple, review best practices, consider contributing to a shared effort, or register your project so others can find you.",
                "options": [
                    {
                        "text": "Next",
                        "next_node_id": "building-tools-describe"
                    }
                ]
            }
        },
        "coding-agreement-anthropic-gemini": {
            "select": {
                "tags": [
                    "onboarding",
                    "coding"
                ],
                "text": "Third Party Model Generative Coding Agreement",
                "detail": "These terms govern your use of third-party models (e.g. Claude, Gemini) listed [here](https://genai.apple.com/policy/models/) for code generation and modification, whether via chat interface, tools, or API. They apply whether you’re developing code for internal use or code that ships outside Apple in source or compiled form.\n\nSome organizations within Apple may have additional restrictions beyond this agreement. Please check your organization’s additional policy [here](https://genai.apple.com/policy/orgs/). Some models are also restricted to use from certain countries and regions; see details [here](https://genai.apple.com/policy/regions/).\n\n### No Critical source code\n\nBecause these models are hosted outside of Apple’s data centers, there are restrictions on what code may be sent in prompts and context. We have defined a new category of code called _[Critical](https://genai.apple.com/policy/coding/critical/)_ that is vital to Apple and **MUST NOT** be sent to these systems. Only a small subset of Apple’s most important source code is designated as Critical. You can identify critical code by the presence of a `CRITICAL` file in the root of the repository; see [here](https://genai.apple.com/policy/coding/critical/) for more details.\n\n### Access only via Floodgate\n\nThe models **MUST** only be accessed through the [Floodgate proxy](https://genai.apple.com/policy/floodgate/). Using the models via their public APIs (e.g. direct to Anthropic’s servers) or via other intermediate services (e.g. Cursor) is prohibited. The proxy implements a de facto standards-compatible API to allow many client applications to work with only a change in API endpoint. Access through the proxy is logged and monitored for AI safety issues, abuse, and violations of Apple’s policies.\n\nModels hosted and used on the same device **MAY** be accessed without use of the proxy, as long as the generated code never ships outside Apple in source or compiled form. All requirements here other than proxy use still apply.\n\n### Human review is required\n\nSimilar to code written without AI, code written with the models **MUST** be human reviewed and controlled by you, peer reviewed, and tested. As needed, the code must also be edited, modified, rearranged, enhanced, and/or combined with other code written by Apple engineers, such that the final code and its arrangement reflects your creativity.\n\n### Respect Apple’s policies\n\nThe models **MUST NOT** be used to generate code that violates intellectual property rights, Apple’s [security](https://genai.apple.com/policy/coding/security/) or [open source](https://genai.apple.com/policy/coding/open-source/) policies, or Apple’s standard best coding practices for quality, functionality, and accuracy.\n\nAny use of the models that is not described above **MUST** be reviewed before such use by legal at [CodeGen_Legal@group.apple.com](mailto:CodeGen_Legal@group.apple.com).\n",
                "options": [
                    {
                        "text": "I read, understand, and agree to the terms.",
                        "next_node_id": "models-anthropic-gemini"
                    }
                ]
            }
        },
        "coding-agreement-gemini": {
            "select": {
                "tags": [
                    "coding"
                ],
                "text": "Third Party Model Generative Coding Agreement",
                "detail": "These terms govern your use of third-party models (e.g. Claude, Gemini) listed [here](https://genai.apple.com/policy/models/) for code generation and modification, whether via chat interface, tools, or API. They apply whether you’re developing code for internal use or code that ships outside Apple in source or compiled form.\n\nSome organizations within Apple may have additional restrictions beyond this agreement. Please check your organization’s additional policy [here](https://genai.apple.com/policy/orgs/). Some models are also restricted to use from certain countries and regions; see details [here](https://genai.apple.com/policy/regions/).\n\n### No Critical source code\n\nBecause these models are hosted outside of Apple’s data centers, there are restrictions on what code may be sent in prompts and context. We have defined a new category of code called _[Critical](https://genai.apple.com/policy/coding/critical/)_ that is vital to Apple and **MUST NOT** be sent to these systems. Only a small subset of Apple’s most important source code is designated as Critical. You can identify critical code by the presence of a `CRITICAL` file in the root of the repository; see [here](https://genai.apple.com/policy/coding/critical/) for more details.\n\n### Access only via Floodgate\n\nThe models **MUST** only be accessed through the [Floodgate proxy](https://genai.apple.com/policy/floodgate/). Using the models via their public APIs (e.g. direct to Anthropic’s servers) or via other intermediate services (e.g. Cursor) is prohibited. The proxy implements a de facto standards-compatible API to allow many client applications to work with only a change in API endpoint. Access through the proxy is logged and monitored for AI safety issues, abuse, and violations of Apple’s policies.\n\nModels hosted and used on the same device **MAY** be accessed without use of the proxy, as long as the generated code never ships outside Apple in source or compiled form. All requirements here other than proxy use still apply.\n\n### Human review is required\n\nSimilar to code written without AI, code written with the models **MUST** be human reviewed and controlled by you, peer reviewed, and tested. As needed, the code must also be edited, modified, rearranged, enhanced, and/or combined with other code written by Apple engineers, such that the final code and its arrangement reflects your creativity.\n\n### Respect Apple’s policies\n\nThe models **MUST NOT** be used to generate code that violates intellectual property rights, Apple’s [security](https://genai.apple.com/policy/coding/security/) or [open source](https://genai.apple.com/policy/coding/open-source/) policies, or Apple’s standard best coding practices for quality, functionality, and accuracy.\n\nAny use of the models that is not described above **MUST** be reviewed before such use by legal at [CodeGen_Legal@group.apple.com](mailto:CodeGen_Legal@group.apple.com).\n",
                "options": [
                    {
                        "text": "I read, understand, and agree to the terms.",
                        "next_node_id": "models-gemini"
                    }
                ]
            }
        },
        "critical-code": {
            "select": {
                "tags": [
                    "onboarding",
                    "input",
                    "coding",
                    "root-coding"
                ],
                "text": "Is the code classified [Critical](https://genai.apple.com/policy/critical/)?",
                "detail": "Critical code repositories have a file named `CRITICAL` at their root.",
                "options": [
                    {
                        "text": "Yes",
                        "next_node_id": "critical-code-not-permitted"
                    },
                    {
                        "text": "No",
                        "next_node_id": "people-decisions",
                        "default": true
                    }
                ]
            }
        },
        "critical-code-not-permitted": {
            "not_permitted": {
                "text": "Not permitted",
                "detail": "Critical code may not be sent to third party models due to security concerns. If you believe a repository is incorrectly marked Critical, contact the repository owner."
            }
        },
        "dataset-review": {
            "not_permitted": {
                "text": "Dataset review required",
                "detail": "Please follow the [dataset review process](https://confluence.corp.apple.com/pages/viewpage.action?spaceKey=plgAW&title=Dataset+legal+review+process)."
            }
        },
        "digital-replicas": {
            "select": {
                "tags": [
                    "output",
                    "root"
                ],
                "text": "Are you generating digital replicas?",
                "detail": "Digital replicas include voices, likenesses, or other personal characteristics.",
                "options": [
                    {
                        "text": "Yes",
                        "next_node_id": "digital-replicas-yes"
                    },
                    {
                        "text": "No",
                        "next_node_id": "harmful-content",
                        "default": true
                    }
                ]
            }
        },
        "digital-replicas-yes": {
            "select": {
                "tags": [
                    "output",
                    "warning"
                ],
                "text": "Legal consultation required",
                "detail": "Digital replica generation and use requires further case-specific review. Please consult your privacy &amp; product legal counsel.",
                "options": [
                    {
                        "text": "Next",
                        "next_node_id": "harmful-content"
                    }
                ]
            }
        },
        "discuss-gemini-150b": {
            "not_permitted": {
                "text": "Legal consultation required",
                "detail": "Anthropic models are not available for your use case. Contact [ml-legal](mailto:ml-legal@group.apple.com) to discuss options for Gemini distillation of large models."
            }
        },
        "discuss-gemini-150b-transitive": {
            "not_permitted": {
                "text": "Legal consultation required",
                "detail": "Anthropic models are not available for your use case. Contact [ml-legal](mailto:ml-legal@group.apple.com) to discuss options for Gemini transitive distillation of large models."
            }
        },
        "discuss-gemini-150b-transitive-adapter": {
            "not_permitted": {
                "text": "Legal consultation required",
                "detail": "Anthropic models are not available for your use case. Contact [ml-legal](mailto:ml-legal@group.apple.com) to discuss options for Gemini transitive distillation of large models."
            }
        },
        "external-content": {
            "select": {
                "tags": [
                    "output",
                    "warning"
                ],
                "text": "Legal review required",
                "detail": "External content generation requires additional case-specific review. Please consult [ml-legal](mailto:ml-legal@group.apple.com).\n\nYou'll also need to follow all standard external release processes for your organization.\n",
                "options": [
                    {
                        "text": "Next",
                        "next_node_id": "restricted-region-gemini-ok",
                        "default": true
                    }
                ]
            }
        },
        "gemini-onboarded-branch": {
            "if_group": {
                "group": "google-models-onboarded",
                "member_node_id": "hwe-branch",
                "non_member_node_id": "hwe-branch"
            }
        },
        "harmful-content": {
            "select": {
                "tags": [
                    "output",
                    "root"
                ],
                "text": "Are you generating harmful or NSFW content?",
                "detail": "Users typically generate harmful or NSFW content with one model to test another model's safety features.",
                "options": [
                    {
                        "text": "Yes",
                        "next_node_id": "harmful-content-yes"
                    },
                    {
                        "text": "No",
                        "next_node_id": "reidentifying",
                        "default": true
                    }
                ]
            }
        },
        "harmful-content-yes": {
            "select": {
                "tags": [
                    "output",
                    "warning"
                ],
                "text": "Special configuration required",
                "detail": "Generating harmful or NSFW content requires a dedicated, specially marked account and special controls on generated data. Please contact [genai-harmful-content](mailto:genai-harmful-content@group.apple.com) and your People Business Partner.",
                "options": [
                    {
                        "text": "Next",
                        "next_node_id": "reidentifying"
                    }
                ]
            }
        },
        "hi-allowed-branch": {
            "if_group": {
                "group": "floodgate-self-onboard-hi",
                "member_node_id": "hwe-branch",
                "non_member_node_id": "hi-not-allowed"
            }
        },
        "hi-not-allowed": {
            "not_permitted": {
                "text": "HI Controlled Availability",
                "detail": "Access in HI is being rolled out gradually. Please reference the [HI onboarding guide](https://genai.apple.com/use/support/orgs/hi/) for additional information.\n"
            }
        },
        "hi-org-branch": {
            "if_group": {
                "group": "genai-onboarding-access-hi",
                "member_node_id": "hi-allowed-branch",
                "non_member_node_id": "ap-org-branch"
            }
        },
        "hsw-allowed-branch": {
            "if_group": {
                "group": "hsw-gen-ai-access",
                "member_node_id": "hwe-branch",
                "non_member_node_id": "hsw-not-allowed"
            }
        },
        "hsw-not-allowed": {
            "not_permitted": {
                "text": "Health SW Controlled Availability",
                "detail": "Access in Health SW is being rolled out gradually. Please reference the [Health SW onboarding guide](https://genai.apple.com/use/support/orgs/health/) for additional information.\n"
            }
        },
        "hsw-org-branch": {
            "if_group": {
                "group": "genai-onboarding-access-health",
                "member_node_id": "hsw-allowed-branch",
                "non_member_node_id": "adrian-org-branch"
            }
        },
        "hwe-allowed-branch": {
            "if_group": {
                "group": "floodgate-self-onboard-hweng",
                "member_node_id": "hwe-branch",
                "non_member_node_id": "hwe-not-allowed"
            }
        },
        "hwe-branch": {
            "if_group": {
                "group": "genai-onboarding-access-hwe",
                "member_node_id": "hwe-guidelines",
                "non_member_node_id": "type-of-data-sent"
            }
        },
        "hwe-guidelines": {
            "select": {
                "tags": [
                    "onboarding",
                    "hwe"
                ],
                "text": "Please review the [HWE AI legal guidelines](https://apple.box.com/s/kw7lqxxn3lv23x9x2y8r1lsmt0ok9xow)",
                "options": [
                    {
                        "text": "I have reviewed the guidelines",
                        "next_node_id": "type-of-data-sent"
                    }
                ]
            }
        },
        "hwe-not-allowed": {
            "not_permitted": {
                "text": "Hardware Engineering Controlled Availability",
                "detail": "Access in Hardware Engineering is being rolled out gradually. Please reference the [Hardware Engineering onboarding guide](https://genai.apple.com/use/support/orgs/hwe/) for additional information.\n"
            }
        },
        "hwe-org-branch": {
            "if_group": {
                "group": "genai-onboarding-access-hwe",
                "member_node_id": "hwe-allowed-branch",
                "non_member_node_id": "watch-org-branch"
            }
        },
        "hwtech-allowed-branch": {
            "if_group": {
                "group": "floodgate-self-onboard-hwtech",
                "member_node_id": "hwe-branch",
                "non_member_node_id": "hwtech-not-allowed"
            }
        },
        "hwtech-not-allowed": {
            "not_permitted": {
                "text": "HWTech Controlled Availability",
                "detail": "Access in Hardware Technologies is being rolled out gradually. Please reference the [HWTech onboarding guide](https://seg-confluence.csg.apple.com/display/CAD/HWTech+Claude+Model+User+Onboarding) for additional information.\n"
            }
        },
        "hwtech-org-branch": {
            "if_group": {
                "group": "genai-onboarding-access-hwt",
                "member_node_id": "hwtech-allowed-branch",
                "non_member_node_id": "aiml-org-branch"
            }
        },
        "ist-allowed-branch": {
            "if_group": {
                "group": "floodgate-self-onboard-ist",
                "member_node_id": "hwe-branch",
                "non_member_node_id": "ist-not-allowed"
            }
        },
        "ist-not-allowed": {
            "not_permitted": {
                "text": "IS&amp;T Controlled Availability",
                "detail": "Access in IS&amp;T is being rolled out gradually. Please reference the [IS&amp;T onboarding guide](https://genai.apple.com/use/support/orgs/ist) for additional information.\n"
            }
        },
        "ist-org-branch": {
            "if_group": {
                "group": "genai-onboarding-access-ist",
                "member_node_id": "ist-allowed-branch",
                "non_member_node_id": "ase-org-branch"
            }
        },
        "legacy-beta-branch": {
            "if_group": {
                "group": "sear-proj-floodgate-access",
                "member_node_id": "hwe-branch",
                "non_member_node_id": "pressure-valve-branch"
            }
        },
        "maps-org-branch": {
            "if_group": {
                "group": "genai-onboarding-access-maps",
                "member_node_id": "hwe-branch",
                "non_member_node_id": "apps-org-branch"
            }
        },
        "model-part-of-product": {
            "select": {
                "tags": [
                    "output",
                    "distillation"
                ],
                "text": "Will the model ship as part of an Apple product?",
                "detail": "e.g. integrated into a framework or application",
                "options": [
                    {
                        "text": "Yes",
                        "next_node_id": "using-intermediate",
                        "default": true
                    },
                    {
                        "text": "No",
                        "next_node_id": "summary-gemini"
                    }
                ]
            }
        },
        "models-anthropic-gemini": {
            "models": [
                {
                    "name": "Anthropic",
                    "allowed": true
                }
            ]
        },
        "models-gemini": {
            "models": [
                {
                    "name": "Anthropic",
                    "allowed": false
                }
            ]
        },
        "negotiated-license": {
            "select": {
                "tags": [
                    "input"
                ],
                "text": "Is the data under a negotiated license agreement?",
                "detail": "Negotiated licenses include data provided to Apple under contract for specific purposes (e.g. music, media).",
                "options": [
                    {
                        "text": "Yes",
                        "next_node_id": "negotiated-license-yes"
                    },
                    {
                        "text": "No",
                        "next_node_id": "people-decisions",
                        "default": true
                    }
                ]
            }
        },
        "negotiated-license-yes": {
            "select": {
                "tags": [
                    "input",
                    "warning"
                ],
                "text": "Legal consultation required",
                "detail": "Negotiated license agreements may affect our ability to send data to third party models. To discuss options for your use case, contact your product counsel.",
                "options": [
                    {
                        "text": "Next",
                        "next_node_id": "people-decisions"
                    }
                ]
            }
        },
        "other-org": {
            "not_permitted": {
                "text": "Beta access required",
                "detail": "To register your interest in joining the beta, please contact [proj-genai-beta-onboarding](mailto:proj-genai-beta-onboarding@group.apple.com).\n"
            }
        },
        "output-use": {
            "select": {
                "tags": [
                    "output",
                    "root"
                ],
                "text": "How will the generated output be used?",
                "options": [
                    {
                        "text": "Integrated into code",
                        "subtitle": "Development",
                        "detail": "Merging generated code into Apple or open source repos",
                        "next_node_id": "restricted-region-gemini-ok"
                    },
                    {
                        "text": "External applications or services",
                        "subtitle": "Public Facing",
                        "detail": "Calling the model to process an external user's request",
                        "next_node_id": "summary-gemini"
                    },
                    {
                        "text": "Internal applications or services",
                        "subtitle": "Internal Use",
                        "detail": "Calling the model to process an internal user's request",
                        "next_node_id": "restricted-region-gemini-ok"
                    },
                    {
                        "text": "ML training",
                        "subtitle": "Model Training",
                        "detail": "Generating output used to train other models/adapters",
                        "next_node_id": "batch-api",
                        "default": true
                    },
                    {
                        "text": "External content",
                        "subtitle": "Public Materials",
                        "detail": "Customer-facing or other broadly distributed materials",
                        "next_node_id": "external-content"
                    },
                    {
                        "text": "Research publications",
                        "subtitle": "Academic",
                        "detail": "Published papers or submissions to conferences",
                        "next_node_id": "research-publications"
                    },
                    {
                        "text": "Personal productivity",
                        "subtitle": "Individual Use",
                        "detail": "Personal use cases other than the listed options",
                        "next_node_id": "restricted-region-gemini-ok"
                    }
                ]
            }
        },
        "over-150b": {
            "select": {
                "tags": [
                    "output",
                    "distillation"
                ],
                "text": "Is the model >= 150B parameters?",
                "options": [
                    {
                        "text": "Yes",
                        "next_node_id": "discuss-gemini-150b"
                    },
                    {
                        "text": "No",
                        "next_node_id": "over-150b-transitive",
                        "default": true
                    }
                ]
            }
        },
        "over-150b-transitive": {
            "select": {
                "tags": [
                    "output",
                    "distillation"
                ],
                "text": "Will outputs from the model be used to transitively train a model >= 150B parameters?",
                "options": [
                    {
                        "text": "Yes",
                        "next_node_id": "discuss-gemini-150b-transitive"
                    },
                    {
                        "text": "No",
                        "next_node_id": "model-part-of-product",
                        "default": true
                    }
                ]
            }
        },
        "over-150b-transitive-adapter": {
            "select": {
                "tags": [
                    "output",
                    "distillation"
                ],
                "text": "Will outputs from the adapter (+model) be used to transitively train a model >= 150B parameters?",
                "options": [
                    {
                        "text": "Yes",
                        "next_node_id": "discuss-gemini-150b-transitive-adapter"
                    },
                    {
                        "text": "No",
                        "next_node_id": "adapter-part-of-product",
                        "default": true
                    }
                ]
            }
        },
        "people-decisions": {
            "select": {
                "tags": [
                    "output",
                    "root"
                ],
                "text": "Are you making automated material decisions about people?",
                "detail": "This includes decisions that affect material or individual rights or well-being (e.g. finance, legal, employment, healthcare, housing, insurance, and social welfare).",
                "options": [
                    {
                        "text": "Yes",
                        "next_node_id": "people-decisions-yes"
                    },
                    {
                        "text": "No",
                        "next_node_id": "synthetic-personal-data",
                        "default": true
                    }
                ]
            }
        },
        "people-decisions-yes": {
            "not_permitted": {
                "text": "Legal consultation required",
                "detail": "Using generative AI to make automated material decisions about people is high risk and requires further case-specific review. Please consult [ml-legal](mailto:ml-legal@group.apple.com)."
            }
        },
        "pressure-valve-branch": {
            "if_group": {
                "group": "genai-onboarding-pressure-valve",
                "member_node_id": "hwe-branch",
                "non_member_node_id": "swe-org-branch"
            }
        },
        "privacy-sensitive": {
            "select": {
                "tags": [
                    "onboarding",
                    "input"
                ],
                "text": "Is the data classified as [privacy sensitive](https://cloudtech.apple.com/documentation/getting-started/privacy-sensitive-data-types)?",
                "detail": "Privacy sensitive data includes data from study participants from health studies or who are children and Apple user data, including when the data has been aggregated or otherwise de-identified. For additional information review the [PSD policy](https://cloudtech.apple.com/documentation/getting-started/privacy-sensitive-data-types).",
                "options": [
                    {
                        "text": "Yes",
                        "next_node_id": "privacy-sensitive-yes"
                    },
                    {
                        "text": "No",
                        "next_node_id": "tier01",
                        "default": true
                    }
                ]
            }
        },
        "privacy-sensitive-yes": {
            "select": {
                "tags": [
                    "onboarding",
                    "input",
                    "warning"
                ],
                "text": "Privacy consultation required",
                "detail": "AIS and Privacy Engineering have not approved third-party hosted models for processing privacy sensitive data. Please file a [secondary data use request](https://confluence.sd.apple.com/display/UserPrivacy/Secondary+Data+Use) to evaluate your use case.",
                "options": [
                    {
                        "text": "Next",
                        "next_node_id": "tier01"
                    }
                ]
            }
        },
        "radar-data": {
            "select": {
                "tags": [
                    "onboarding",
                    "input"
                ],
                "text": "Is the data from Radar?",
                "detail": "Radar data includes description, assignee metadata, and attachments.",
                "options": [
                    {
                        "text": "Yes",
                        "next_node_id": "radar-summary"
                    },
                    {
                        "text": "No",
                        "next_node_id": "privacy-sensitive",
                        "default": true
                    }
                ]
            }
        },
        "radar-summary": {
            "select": {
                "tags": [
                    "onboarding",
                    "input",
                    "warning"
                ],
                "text": "Please read and follow the [Radar policy](https://genai.apple.com/policy/radar/).",
                "items": [
                    {
                        "text": "Do not send Radars with [prohibited signatures](https://genai.apple.com/policy/radar/signatures/)."
                    },
                    {
                        "text": "Do not send fields containing employee identifiers (e.g. `originator`, `assignee`, `addedBy`)."
                    },
                    {
                        "text": "Do not send attachments likely to contain user data (e.g. screenshots, screen recordings, sysdiagnose, photos with people, audio recordings with people talking), unless the attachments come from test/QA devices without user or employee accounts."
                    }
                ],
                "options": [
                    {
                        "text": "Next",
                        "next_node_id": "people-decisions"
                    }
                ]
            }
        },
        "reidentifying": {
            "select": {
                "tags": [
                    "output",
                    "root"
                ],
                "text": "Are you reidentifying users?",
                "detail": "Reidentifying users means using deidentified or anonymous data as input and using the model to infer or determine the identity of a person associated with the data. This can involve both direct or indirect identification, such as determining the person's name or their pattern of life.",
                "options": [
                    {
                        "text": "Yes",
                        "next_node_id": "reidentifying-yes"
                    },
                    {
                        "text": "No",
                        "next_node_id": "building-tools",
                        "default": true
                    }
                ]
            }
        },
        "reidentifying-yes": {
            "select": {
                "tags": [
                    "output",
                    "warning"
                ],
                "text": "Legal consultation required",
                "detail": "Reidentifying users requires further case-specific review. Please consult your privacy legal counsel.",
                "options": [
                    {
                        "text": "Next",
                        "next_node_id": "building-tools"
                    }
                ]
            }
        },
        "research-publications": {
            "not_permitted": {
                "text": "Publication review required",
                "detail": "ML use in research generation and publications on ML topics require further case-specific review. Please follow the [Pubtool](https://pubtool.apple.com/) process."
            }
        },
        "restricted-region-gemini-ok": {
            "select": {
                "tags": [
                    "coding"
                ],
                "text": "Are you accessing the model from a [restricted country or region](https://genai.apple.com/policy/regions/)?",
                "detail": "Restricted countries/regions include China and Hong Kong.",
                "options": [
                    {
                        "text": "Yes",
                        "next_node_id": "summary-gemini"
                    },
                    {
                        "text": "No",
                        "next_node_id": "summary-anthropic-gemini",
                        "default": true
                    }
                ]
            }
        },
        "summary-anthropic-gemini": {
            "select": {
                "tags": [
                    "onboarding"
                ],
                "text": "Summary",
                "items": [
                    {
                        "text": "No Tier 0-1 or Privacy Sensitive Data",
                        "detail": "Don't send any [privacy-sensitive](https://genai.apple.com/policy/data/psd) or [tier 0-1](https://genai.apple.com/policy/data/tiers) data. Tier 2-4 data is permitted."
                    },
                    {
                        "text": "Black/Ultra",
                        "detail": "You **are permitted** to use Black &amp; Ultra code, but not [Critical](https://genai.apple.com/policy/critical/) code."
                    },
                    {
                        "text": "Proxy Required",
                        "detail": "You must access all models through the [Floodgate proxy](https://genai.apple.com/policy/floodgate/) which is available in supported internal tools."
                    },
                    {
                        "text": "Requests Are Logged",
                        "detail": "All messages and responses are securely logged and retained indefinitely."
                    }
                ],
                "options": [
                    {
                        "text": "Next",
                        "next_node_id": "coding-agreement-anthropic-gemini"
                    }
                ]
            }
        },
        "summary-gemini": {
            "select": {
                "text": "Summary",
                "items": [
                    {
                        "text": "No Tier 0-1 or Privacy Sensitive Data",
                        "detail": "Don't send any [privacy-sensitive](https://genai.apple.com/policy/data/psd) or [tier 0-1](https://genai.apple.com/policy/data/tiers) data. Tier 2-4 data is permitted."
                    },
                    {
                        "text": "Black/Ultra",
                        "detail": "You **are permitted** to use Black &amp; Ultra code, but not [Critical](https://genai.apple.com/policy/critical/) code."
                    },
                    {
                        "text": "Proxy Required",
                        "detail": "You must access all models through the [Floodgate proxy](https://genai.apple.com/policy/floodgate/) which is available in supported internal tools."
                    },
                    {
                        "text": "Requests Are Logged",
                        "detail": "All messages and responses are securely logged and retained indefinitely."
                    }
                ],
                "options": [
                    {
                        "text": "Next",
                        "next_node_id": "coding-agreement-gemini"
                    }
                ]
            }
        },
        "swe-org-branch": {
            "if_group": {
                "group": "genai-onboarding-access-swe",
                "member_node_id": "hwe-branch",
                "non_member_node_id": "hwtech-org-branch"
            }
        },
        "synthetic-personal-data": {
            "select": {
                "tags": [
                    "output",
                    "root"
                ],
                "text": "Are you generating synthetic [personal data](https://infosec.apple.com/apply-security-requirements/governance-resources/personal-data-types)?",
                "detail": "Synthetic personal data includes names, contact information, and behavior information of realistic but fictitious individuals.",
                "options": [
                    {
                        "text": "Yes",
                        "next_node_id": "synthetic-personal-data-yes"
                    },
                    {
                        "text": "No",
                        "next_node_id": "digital-replicas",
                        "default": true
                    }
                ]
            }
        },
        "synthetic-personal-data-yes": {
            "select": {
                "tags": [
                    "output",
                    "warning"
                ],
                "text": "Legal consultation required",
                "detail": "Synthetic personal data generation and use requires further case-specific review. Please consult your privacy &amp; product legal counsel.",
                "options": [
                    {
                        "text": "Next",
                        "next_node_id": "digital-replicas"
                    }
                ]
            }
        },
        "tier01": {
            "select": {
                "tags": [
                    "onboarding",
                    "input"
                ],
                "text": "Is the data [tier 0 or 1](https://infosec.apple.com/apply-security-requirements/governance-resources/data-classification-tiers.htm)?",
                "detail": "Tier 0 and 1 references highly confidential and prohibited data, including financial &amp; payment data, authentication data, and data relating to security flaws.",
                "options": [
                    {
                        "text": "Yes",
                        "next_node_id": "tier01-not-permitted"
                    },
                    {
                        "text": "No",
                        "next_node_id": "negotiated-license",
                        "default": true
                    }
                ]
            }
        },
        "tier01-not-permitted": {
            "not_permitted": {
                "text": "Security consultation required",
                "detail": "[Tier 0 and 1](https://infosec.apple.com/apply-security-requirements/governance-resources/data-classification-tiers.htm) data may not be sent to third party models. To discuss options for your use case, contact [AskInfoSec](https://infosec.apple.com/explore-information-security/learn-about-infosec/askinfosec).\n"
            }
        },
        "training-what": {
            "select": {
                "tags": [
                    "output",
                    "distillation",
                    "root-distillation"
                ],
                "text": "What are you training?",
                "options": [
                    {
                        "text": "Model",
                        "subtitle": "Full Model",
                        "next_node_id": "over-150b",
                        "default": true
                    },
                    {
                        "text": "Adapter",
                        "subtitle": "Adapter Layer",
                        "next_node_id": "over-150b-transitive-adapter"
                    },
                    {
                        "text": "Fine tuning provider models",
                        "subtitle": "Provider Tuning",
                        "next_node_id": "restricted-region-gemini-ok"
                    }
                ]
            }
        },
        "type-of-data-sent": {
            "select": {
                "tags": [
                    "onboarding",
                    "input",
                    "root"
                ],
                "text": "What type of data is being sent in the prompt?",
                "options": [
                    {
                        "text": "Project code",
                        "subtitle": "Source Code",
                        "detail": "Apple-owned or open source code",
                        "next_node_id": "critical-code",
                        "default": true
                    },
                    {
                        "text": "Internal data",
                        "subtitle": "Company Data",
                        "detail": "Apple-owned data other than code",
                        "next_node_id": "radar-data"
                    },
                    {
                        "text": "External data",
                        "subtitle": "Third Party",
                        "detail": "Public or crawled datasets",
                        "next_node_id": "approved-dataset"
                    }
                ]
            }
        },
        "using-intermediate": {
            "select": {
                "tags": [
                    "output",
                    "distillation"
                ],
                "text": "Are you using intermediate outputs?",
                "detail": "Intermediate outputs include reasoning details or plan information separate from the final model output.",
                "options": [
                    {
                        "text": "Yes",
                        "next_node_id": "summary-gemini"
                    },
                    {
                        "text": "No",
                        "next_node_id": "restricted-region-gemini-ok",
                        "default": true
                    }
                ]
            }
        },
        "watch-allowed-branch": {
            "if_group": {
                "group": "floodgate-self-onboard-watch",
                "member_node_id": "hwe-branch",
                "non_member_node_id": "watch-not-allowed"
            }
        },
        "watch-not-allowed": {
            "not_permitted": {
                "text": "Watch SW Controlled Availability",
                "detail": "Access in Watch SW is being rolled out gradually. Please reference the [Watch SW onboarding guide](https://genai.apple.com/use/support/orgs/watch/) for additional information.\n"
            }
        },
        "watch-org-branch": {
            "if_group": {
                "group": "genai-onboarding-access-watch",
                "member_node_id": "watch-allowed-branch",
                "non_member_node_id": "hi-org-branch"
            }
        },
        "wpc-allowed-branch": {
            "if_group": {
                "group": "floodgate-self-onboard-wpc",
                "member_node_id": "hwe-branch",
                "non_member_node_id": "wpc-not-allowed"
            }
        },
        "wpc-not-allowed": {
            "not_permitted": {
                "text": "Apple Pay Controlled Availability",
                "detail": "Access in Apple Pay is being rolled out gradually. Please reference the [Apple Pay onboarding guide](https://genai.apple.com/use/support/orgs/pay) for additional information.\n"
            }
        },
        "wpc-org-branch": {
            "if_group": {
                "group": "genai-onboarding-access-wpc",
                "member_node_id": "wpc-allowed-branch",
                "non_member_node_id": "hwe-org-branch"
            }
        }
    }
}
